


<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>模板</title>
</head>
<body>
	<div id="main" style="width: 600px;height:800px;"></div>
	<script src="http://libs.baidu.com/jquery/1.9.0/jquery.js" type="text/javascript"></script>
	<script crossorigin="anonymous" integrity="sha384-DX1FVVXdGcNR016Jj6c5WuxYmyUvkb2/0ZMXKwbXaXs8j9tPs3e4RUjNg4tViEj4"
		src="https://lib.baomitu.com/echarts/4.7.0/echarts-en.common.js"></script>
		<script>

            
        let legendData = ['星期1','星期2','星期3']

          let xAxisData = ['A1','A2','A3','A4','A5']

          let seriesData = [
          {
              name: '星期1',
              type: 'bar',
              stack: '损失总量',
              emphasis: {
                focus: 'series'
              },
              barMaxWidth: '20',
              data: [10,20,30]
            },
            {
              name: '星期2',
              type: 'bar',
              stack: '损失总量',
              emphasis: {
                focus: 'series'
              },
              barMaxWidth: '20',
              data: [10,20,30]
            },
            {
              name: '星期3',
              type: 'bar',
              stack: '损失总量',
              emphasis: {
                focus: 'series'
              },
              barMaxWidth: '20',
              data: [10,20,30]
            }

          ] 

			var option =  {
                
backgroundColor:'#000',
            legend: {
              type: 'scroll',          
              right:'30',
              top: '10',
              left: '20',
              icon: 'circle',
              itemGap: 5,
              itemWidth: 10,
              textStyle: {
                color: '#8f949a',
                fontSize: 12
              },
              data: legendData
            },
         
            tooltip: {
              show: true,
              trigger: 'axis',
              axisPointer:{
                type:'shadow'
              },
              transitionDuration: 0
            },
            visualMap:{
                type: 'continuous',
                show: false,
                min: 0,
                max: seriesData.length,
                dimension: 0,
                inRange: {
                    color: []
                },
                seriesIndex:0
            },
            xAxis: [
              {
                type: 'category',
                axisLabel: {
                  color: '#fff'
                },
                axisTick: {
                  show: false
                },
                axisLine: {
                  lineStyle: {
                    color: '#00CBFF'
                  }
                },
                splitArea: {
                  show: true,
                  areaStyle: {
                    color: ['rgba(0,0,0,0)']
                  }
                },
                splitLine: {
                  show: false
                },
                data: xAxisData
              }
            ],
            yAxis: [
              {
                type: 'value',
                axisLabel: {
                  color: '#fff'
                },
                axisTick: {
                  show: false
                },
                axisLine: {
                  lineStyle: {
                    color: '#00CBFF'
                  }
                },
                splitLine: {
                  show: true,
                  lineStyle: {
                    type: 'dotted',
                    color: '#013e58'
                  }
                }
              }
            ],
            series: seriesData
          }

	
			 // 基于准备好的dom，初始化echarts实例
			 var myChart = echarts.init(document.getElementById('main'));
	
			// 使用刚指定的配置项和数据显示图表。
			myChart.setOption(option);
		   
            // setTimeout(function(){
               
              

            //     myChart.dispatchAction({type: 'highlight',seriesName:['Direct','Mail Ad'],dataIndex:0 //seriesIndex: 0
            // });
            // },4000)


          myChart.on('click', function(params){
            params.event.event.stopPropagation();
            let l = option.xAxis[0].data.length;
            let arr = [];
            for (var i = 0; i < l; i++) {
                if (i == params.dataIndex) {
                arr.push('rgba(255,0,0,1)')
                } else {
                arr.push('rgba(0,0,0,0.2)');
                }
            }
            option.xAxis[0].splitArea.areaStyle.color = arr;

            myChart.setOption(option);
           
        }
         );


         
           
		</script>
</body>
</html>