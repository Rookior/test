<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
       function dropEquipment(equipmentProbabilities) {  
        // 生成一个0-1之间的随机数  
        let randomValue = Math.random();  
    
        // 遍历所有装备及其概率  
        for (let equipment in equipmentProbabilities) {  
            // 如果随机值小于当前装备的概率，返回该装备  
            if (randomValue < equipmentProbabilities[equipment]) {  
                return equipment;  
            }  
            // 否则，将随机值减去当前装备的概率，继续循环  
            randomValue -= equipmentProbabilities[equipment];  
        }  
    
        // 如果所有装备的概率都已用完，但随机值仍然小于1，返回最后一个装备（或默认装备）  
        return equipment;  
    }  
    
    // 定义装备及其概率  
    let equipmentProbabilities = {  
        "装备A": 0.2,  // 20% 的掉落概率  
        "装备B": 0.3,  // 30% 的掉落概率  
        "装备C": 0.5,  // 50% 的掉落概率  
        "默认装备": 0   // 如果所有概率都已用完，返回默认装备  
    };  

    var a=0,b=0,c=0,d=0;
    for(var i =0 ;i<100;i++){
        switch(dropEquipment(equipmentProbabilities)){
            case "装备A":
                a++;
                break;
                case "装备B":
                b++;
                break;
                case "装备C":
                c++;
                break;
                case "默认装备":
                d++;
                break;
        }
    }
    console.log(a/100,b/100,c/100,d/100)
    
    </script>
</body>
</html>